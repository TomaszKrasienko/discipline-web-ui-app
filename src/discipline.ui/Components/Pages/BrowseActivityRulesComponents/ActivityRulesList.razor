@page "/activity-rules-list"
@using BlazorBootstrap
@using discipline.core.Dispatchers.Abstractions
@using discipline.core.Dispatchers.Models
@using discipline.core.DTOs
@inject IDisciplineAppDispatcher DisciplineDispatcher;

<PageTitle>Activity rules list</PageTitle>
<div class="row">
    <div class="col-md-8 offset-2">
        <div class="row">
            <div class="col-md-12 text-center">
                <h2>Activity Rules List</h2>
            </div>
        </div>
        <div class="row">
            @foreach (var activityRule in _activityRules)
            {
                <div class="row">
                    <div class="col-md-3">
                        @activityRule.Title
                    </div>
                    <div class="col-md-3">
                        @activityRule.Mode
                    </div>
                    <div class="col-md-3">
                        
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-dark">Edit</button>
                    </div>
                </div>
            }
        </div>
    </div>
</div>







<Pagination TotalPages="10" ActivePageNumber=_pageNumber/>
@code {
    private List<ActivityRuleDto> _activityRules = new();
    private int _pageNumber = 1;
    private int _pageSize = 10;

    protected override async Task OnInitializedAsync()
    {
        _activityRules = await DisciplineDispatcher.BrowseActivityRules(new PaginationRequest()
        {
            PageNumber = _pageNumber,
            PageSize = _pageSize
        });
    }
}